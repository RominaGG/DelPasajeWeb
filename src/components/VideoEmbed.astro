---
import {getYouTubeId} from '../utils/youtube';

interface Props {
    title: string;
    youtubeUrl: string;
}

const {title, youtubeUrl} = Astro.props;
const id = getYouTubeId(youtubeUrl);
---

{ id && (
    <div class="video-responsive">
        <iframe 
        src={`https://www.youtube.com/embed/${id}`} 
        title={title}
        loading="lazy"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture "
        allowfullscreen
        ></iframe>
    </div>
)}

<style>
    .video-responsive {
        position: relative;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
        background-color: #000;
        border-radius: 4px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    .video-responsive iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }
</style>